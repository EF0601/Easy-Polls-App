<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Easy Polls</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<dialog id="reportPoll">
  <h1>Poll reporting</h1>
  <p>Please do not misuse the feature. If deemed necessary, the poll will be taken down.</p>
  <textarea placeholder="Reason for reporting (500 chars max)" maxlength="500" id="reportPollText"></textarea><br>
  <div class="twoColumns">
    <button onclick="document.getElementById('reportPoll').style.display='none'">Cancel</button>
    <button onclick="reportPoll()">Report</button>
  </div>
</dialog>
<dialog id="error">
  <h1>An error occurred</h1>
  <p>Whoops, an error occurred. Additional information:</p>
  <code id="errorInfo">Nothing yet.</code><br>
  <button onclick="document.getElementById('error').style.display = 'none';">Close</button>
</dialog>
<dialog id="extraOptions">
  <h1>Extras</h1>
  <p>Here you can add some extra options to your poll.</p>
  <div class="twoColumns">
    <label for="allowPublic">Allow public voting</label>
    <input type="checkbox" id="allowPublic" />
  </div>
  <button onclick="document.getElementById('extraOptions').style.display='none'">Close</button>
</dialog>

<body>
  <div id="screen">
    <div id="about">
      <h1>Easy polls</h1>
      <p>An <i>eas</i>ier way to poll.</p>
    </div>
    <div id="tabBtns">
      <button id="accessTabBtn" class="tabBtn">
        <span>Find Poll</span>
      </button>
      <button id="makeTabBtn" class="tabBtn">
        <span>Make Poll</span>
      </button>
      <button id="moreTabBtn" class="tabBtn">
        <span>More</span>
      </button>
    </div>
    <div id="tabs">
      <div id="accessTab" class="tab">
        <!-- <p id="findPollProgressBar">
            <span id="findPollProgressBarInnerPart"
              >Step <span id="findPollStep">1</span> out of 3.</span
            > -->
        </p>
        <div id="findTab">
          <h2>Find Poll</h2>
          <input type="text" id="accessCode" placeholder="ABC123" required maxlength="6" /><br />
          <button type="submit" id="findPollBtn">Access Poll</button>
        </div><br>
        <div id="voteTab">
          <hr>
          <h2>Vote On Poll <span class="pollIdDisplay">123ABC</span></h2>
          <p id="pollTitle"></p>
          <button id="option1" onclick="vote(1)"></button>
          <button id="option2" onclick="vote(2)"></button>
          <button id="option3" onclick="vote(3)"></button>
          <button id="option4" onclick="vote(4)"></button>
        </div><br>
        <div id="resultsTab">
          <hr>
          <h2>Results For Poll <span class="pollIdDisplay">123ABC</span></h2><br>
          <div id="results">
            <div id="option1Results"></div>
            <div id="option2Results"></div>
            <div id="option3Results"></div>
            <div id="option4Results"></div>
          </div>
          <button onclick="resetVoting()">Vote on another</button>
          <button onclick="document.getElementById('reportPoll').style.display = 'block';">Report the poll</button>

        </div>

        <div id="loader1" class="loader"></div>
      </div>
      <div id="makeTab" class="tab">
        <h2>Make Poll</h2>
        <input type="text" id="question" placeholder="Enter question" required maxlength="300" />
        <br />
        <input type="text" id="option1Input" placeholder="Option 1" required maxlength="200" />
        <br />
        <input type="text" id="option2Input" placeholder="Option 2" required maxlength="200" />
        <br />
        <input type="text" id="option3Input" placeholder="Option 3" required maxlength="200" />
        <br />
        <input type="text" id="option4Input" placeholder="Option 4" required maxlength="200" />
        <br />
        <button onclick="document.getElementById('extraOptions').style.display='block'">Extras</button>
        <button onclick="makePoll()">Make Poll</button>
        <br><br>
        <div id="shareTab">
          <hr>
          <h2>Share Poll</h2>
          <p>Share this this poll to whoever you wish to share it with. Use this message:</p>
          <input type="text" id="shareLink" readonly>
          <button onclick="resetMake()">Make another</button>
        </div>
        <div id="loader2" class="loader"></div>
      </div>
      <div id="moreTab" class="tab">
        <h2>More</h2>
        <div class="grid">
          <button id="publicPollsTabBtn">Public Polls</button>
          <button id="viewPollTabBtn">View Poll</button>
          <button id="addOnsTabBtn">Add-ons</button>
          <button id="helpTabBtn">Help</button>
        </div>
        <iframe src="./help.html" frameborder="0" height="330" id="helpTab"></iframe>
        <div id="publicPollsTab">
          <h2>Public Polls</h2>
          <p>Polls that are made publicly are displayed here.</p>
          <button id="loadPublicPollsBtn" onclick="getPublicPolls()">Load Public Polls</button>
          <input type="text" id="publicPollsSearch" placeholder="Search for a poll..." oninput="searchPublicPolls()" />
          <table id="publicPollsTable">
            <thead>
              <tr>
                <th>Question</th>
                <th>ID</th>
              </tr>
            </thead>
            <tbody id="publicPollsList">
              <!-- Public polls will be populated here -->
            </tbody>
          </table>
        </div>
        <div id="loader3" class="loader"></div>
      </div>
      <!-- <footer>
        <p>
          Licensed under the MIT License. (C) 2024 EF-0601. Please read our
          usage policy and privacy policy.
        </p>
      </footer> -->
    </div>
</body>
<script src="./script.js"></script>
<script src="./tabs.js"></script>

</html>
